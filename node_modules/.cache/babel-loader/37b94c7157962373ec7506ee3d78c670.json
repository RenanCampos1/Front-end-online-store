{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Front-end-online-store/src/pages/Home.jsx\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategories, getProductByName, getProductById } from '../services/api';\nimport { addFavorites } from '../services/cartApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      productName: '',\n      messageOn: false,\n      lista: [],\n      products: []\n    };\n\n    this.requestApi = async () => {\n      const retorno = await getCategories();\n      this.setState({\n        lista: retorno\n      });\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value,\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.requireProducts = async () => {\n      const {\n        productName\n      } = this.state;\n      const dataApi = await getProductByName(productName);\n      this.setState({\n        products: dataApi\n      });\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        messageOn: true\n      });\n    };\n\n    this.requestCategoryID = async _ref2 => {\n      let {\n        target\n      } = _ref2;\n      const {\n        value\n      } = target;\n      const resultApiCategory = await getProductById(value);\n      this.setState({\n        products: resultApiCategory\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.requestApi();\n  }\n\n  render() {\n    const {\n      productName,\n      messageOn,\n      lista,\n      products: {\n        results\n      }\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n            .container {\n              max-width: 800px;\n              margin: 0 auto;\n              padding: 20px;\n            }\n\n            .search-container {\n              display: flex;\n              align-items: center;\n              margin-bottom: 20px;\n            }\n\n            .search-input {\n              flex: 1;\n              margin-right: 10px;\n              padding: 5px;\n              font-size: 16px;\n            }\n\n            .search-button {\n              padding: 8px 16px;\n              font-size: 16px;\n              background-color: #4CAF50;\n              color: white;\n              border: none;\n              cursor: pointer;\n            }\n\n            .initial-message {\n              margin-bottom: 20px;\n              font-size: 16px;\n            }\n\n            .cart-button {\n              padding: 8px 16px;\n              font-size: 16px;\n              background-color: #FF9800;\n              color: white;\n              border: none;\n              cursor: pointer;\n            }\n\n            .product {\n              display: flex;\n              align-items: center;\n              margin-bottom: 20px;\n              font-size: 16px;\n            }\n\n            .product-image {\n              width: 80px;\n              margin-right: 10px;\n            }\n\n            .product-title {\n              flex: 1;\n            }\n\n            .product-price {\n              font-weight: bold;\n            }\n\n            .category-label {\n              display: block;\n              margin-bottom: 10px;\n              font-size: 16px;\n            }\n\n            .category-input {\n              margin-right: 5px;\n            }\n          `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search-input\",\n            type: \"text\",\n            name: \"productName\",\n            value: productName,\n            onChange: this.handleChange,\n            \"data-testid\": \"query-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"search-button\",\n            \"data-testid\": \"query-button\",\n            type: \"button\",\n            onClick: this.requireProducts,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), productName.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"initial-message\",\n          \"data-testid\": \"home-initial-message\",\n          children: \"Digite algum termo de pesquisa ou escolha uma categoria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cart-button\",\n          \"data-testid\": \"shopping-cart-button\",\n          type: \"button\",\n          onClick: this.handleClick,\n          children: \"Carrinho de compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), messageOn && /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this), results !== undefined ? results.map(_ref3 => {\n          let {\n            id,\n            title,\n            thumbnail,\n            price\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              \"data-testid\": \"product-detail-link\",\n              to: `/detail/${id}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-title\",\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"product-image\",\n                src: thumbnail,\n                alt: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-price\",\n                children: price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"product-add-to-cart\",\n              \"data-testid\": \"product-add-to-cart\",\n              type: \"button\",\n              onClick: () => addFavorites(title, price, id),\n              children: \"Adicionar ao carrinho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhum produto foi encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), lista.map(e => /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"radio\",\n          className: \"category-label\",\n          \"data-testid\": \"category\",\n          children: [e.name, /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"category-input\",\n            onClick: this.requestCategoryID,\n            type: \"radio\",\n            name: \"categories\",\n            id: \"radio\",\n            value: e.id\n          }, e.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, e.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"names":["React","Link","Redirect","getCategories","getProductByName","getProductById","addFavorites","Home","Component","state","productName","messageOn","lista","products","requestApi","retorno","setState","handleChange","target","value","name","requireProducts","dataApi","handleClick","requestCategoryID","resultApiCategory","componentDidMount","render","results","length","undefined","map","id","title","thumbnail","price","e"],"sources":["/home/renanc/Projetos/Front-end-online-store/src/pages/Home.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategories, getProductByName, getProductById } from '../services/api';\nimport { addFavorites } from '../services/cartApi';\n\nclass Home extends React.Component {\n  state = {\n    productName: '',\n    messageOn: false,\n    lista: [],\n    products: [],\n  };\n\n  componentDidMount() {\n    this.requestApi();\n  }\n\n  requestApi = async () => {\n    const retorno = await getCategories();\n    this.setState({\n      lista: retorno,\n    });\n  };\n\n  handleChange = ({ target }) => {\n    const { value, name } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  requireProducts = async () => {\n    const { productName } = this.state;\n    const dataApi = await getProductByName(productName);\n    this.setState({ products: dataApi });\n  };\n\n  handleClick = () => {\n    this.setState({\n      messageOn: true,\n    });\n  };\n\n  requestCategoryID = async ({ target }) => {\n    const { value } = target;\n    const resultApiCategory = await getProductById(value);\n    this.setState({\n      products: resultApiCategory,\n    });\n  };\n\n  render() {\n    const { productName, messageOn, lista, products: { results } } = this.state;\n    return (\n      <div>\n        <style>\n          {`\n            .container {\n              max-width: 800px;\n              margin: 0 auto;\n              padding: 20px;\n            }\n\n            .search-container {\n              display: flex;\n              align-items: center;\n              margin-bottom: 20px;\n            }\n\n            .search-input {\n              flex: 1;\n              margin-right: 10px;\n              padding: 5px;\n              font-size: 16px;\n            }\n\n            .search-button {\n              padding: 8px 16px;\n              font-size: 16px;\n              background-color: #4CAF50;\n              color: white;\n              border: none;\n              cursor: pointer;\n            }\n\n            .initial-message {\n              margin-bottom: 20px;\n              font-size: 16px;\n            }\n\n            .cart-button {\n              padding: 8px 16px;\n              font-size: 16px;\n              background-color: #FF9800;\n              color: white;\n              border: none;\n              cursor: pointer;\n            }\n\n            .product {\n              display: flex;\n              align-items: center;\n              margin-bottom: 20px;\n              font-size: 16px;\n            }\n\n            .product-image {\n              width: 80px;\n              margin-right: 10px;\n            }\n\n            .product-title {\n              flex: 1;\n            }\n\n            .product-price {\n              font-weight: bold;\n            }\n\n            .category-label {\n              display: block;\n              margin-bottom: 10px;\n              font-size: 16px;\n            }\n\n            .category-input {\n              margin-right: 5px;\n            }\n          `}\n        </style>\n        <div className=\"container\">\n          <div className=\"search-container\">\n            <input\n              className=\"search-input\"\n              type=\"text\"\n              name=\"productName\"\n              value={productName}\n              onChange={this.handleChange}\n              data-testid=\"query-input\"\n            />\n            <button\n              className=\"search-button\"\n              data-testid=\"query-button\"\n              type=\"button\"\n              onClick={this.requireProducts}\n            >\n              Pesquisar\n            </button>\n          </div>\n          {productName.length === 0 && (\n            <p className=\"initial-message\" data-testid=\"home-initial-message\">\n              Digite algum termo de pesquisa ou escolha uma categoria.\n            </p>\n          )}\n          <button\n            className=\"cart-button\"\n            data-testid=\"shopping-cart-button\"\n            type=\"button\"\n            onClick={this.handleClick}\n          >\n            Carrinho de compras\n          </button>\n          {messageOn && <Redirect to=\"/Cart\" />}\n          {results !== undefined ? (\n            results.map(({ id, title, thumbnail, price }) => (\n              <div key={id} className=\"product\">\n                <Link data-testid=\"product-detail-link\" key={id} to={`/detail/${id}`}>\n                  <div className=\"product-title\">{title}</div>\n                  <img className=\"product-image\" src={thumbnail} alt={title} />\n                  <div className=\"product-price\">{price}</div>\n                </Link>\n                <button\n                  className=\"product-add-to-cart\"\n                  data-testid=\"product-add-to-cart\"\n                  type=\"button\"\n                  onClick={() => addFavorites(title, price, id)}\n                >\n                  Adicionar ao carrinho\n                </button>\n              </div>\n            ))\n          ) : (\n            <p>Nenhum produto foi encontrado</p>\n          )}\n          {lista.map((e) => (\n            <label htmlFor=\"radio\" key={e.id} className=\"category-label\" data-testid=\"category\">\n              {e.name}\n              <input\n                className=\"category-input\"\n                onClick={this.requestCategoryID}\n                type=\"radio\"\n                name=\"categories\"\n                id=\"radio\"\n                value={e.id}\n                key={e.id}\n              />\n            </label>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
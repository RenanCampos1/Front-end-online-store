{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Front-end-online-store/src/pages/Home.jsx\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategories, getProductByName, getProductById } from '../services/api';\nimport { addFavorites } from '../services/cartApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      productName: '',\n      messageOn: false,\n      lista: [],\n      products: []\n    };\n\n    this.requestApi = async () => {\n      const retorno = await getCategories();\n      this.setState({\n        lista: retorno\n      });\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value,\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.requireProducts = async () => {\n      const {\n        productName\n      } = this.state;\n      const dataApi = await getProductByName(productName);\n      this.setState({\n        products: dataApi\n      });\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        messageOn: true\n      });\n    };\n\n    this.requestCategoryID = async _ref2 => {\n      let {\n        target\n      } = _ref2;\n      const {\n        value\n      } = target;\n      const resultApiCategory = await getProductById(value);\n      this.setState({\n        products: resultApiCategory\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.requestApi();\n  }\n\n  render() {\n    const {\n      productName,\n      messageOn,\n      lista,\n      products: {\n        results\n      }\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"productName\",\n        value: productName,\n        onChange: this.handleChange,\n        \"data-testid\": \"query-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"query-button\",\n        type: \"button\",\n        onClick: this.requireProducts,\n        children: \"Pesquisarr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), productName.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"home-initial-message\",\n        children: \"Digite algum termo de pesquisa ou escolha uma categoria.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"shopping-cart-button\",\n        type: \"button\",\n        onClick: this.handleClick,\n        children: \"Carrinho de compras\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), messageOn && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 24\n      }, this), results !== undefined ? results.map(_ref3 => {\n        let {\n          id,\n          title,\n          thumbnail,\n          price\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            \"data-testid\": \"product-detail-link\",\n            to: `/detail/${id}`,\n            children: [' ', /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-testid\": \"product\",\n              children: [title, /*#__PURE__*/_jsxDEV(\"img\", {\n                src: thumbnail,\n                alt: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), price]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"product-add-to-cart\",\n            type: \"button\",\n            onClick: () => addFavorites(title, price, id),\n            children: \"Adicionar ao carrinho\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum produto foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 14\n      }, this), lista.map(e => /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"radio\",\n        \"data-testid\": \"category\",\n        children: [e.name, /*#__PURE__*/_jsxDEV(\"input\", {\n          onClick: this.requestCategoryID,\n          type: \"radio\",\n          name: \"categories\",\n          id: \"radio\",\n          value: e.id\n        }, e.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, e.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"names":["React","Link","Redirect","getCategories","getProductByName","getProductById","addFavorites","Home","Component","state","productName","messageOn","lista","products","requestApi","retorno","setState","handleChange","target","value","name","requireProducts","dataApi","handleClick","requestCategoryID","resultApiCategory","componentDidMount","render","results","length","undefined","map","id","title","thumbnail","price","e"],"sources":["/home/renanc/Projetos/Front-end-online-store/src/pages/Home.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { getCategories, getProductByName, getProductById } from '../services/api';\nimport { addFavorites } from '../services/cartApi';\n\nclass Home extends React.Component {\n  state = {\n    productName: '',\n    messageOn: false,\n    lista: [],\n    products: [],\n\n  };\n\n  componentDidMount() {\n    this.requestApi();\n  }\n\n  requestApi = async () => {\n    const retorno = await getCategories();\n    this.setState({\n      lista: retorno,\n    });\n  };\n\n  handleChange = ({ target }) => {\n    const { value, name } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  requireProducts = async () => {\n    const { productName } = this.state;\n    const dataApi = await getProductByName(productName);\n    this.setState({ products: dataApi });\n  };\n\n  handleClick = () => {\n    this.setState({\n      messageOn: true,\n    });\n  };\n\n  requestCategoryID = async ({ target }) => {\n    const { value } = target;\n    const resultApiCategory = await getProductById(value);\n    this.setState({\n      products: resultApiCategory,\n    });\n  };\n\n  render() {\n    const { productName, messageOn, lista, products: { results } } = this.state;\n    return (\n      <div>\n        <input\n          type=\"text\"\n          name=\"productName\"\n          value={ productName }\n          onChange={ this.handleChange }\n          data-testid=\"query-input\"\n        />\n        <button\n          data-testid=\"query-button\"\n          type=\"button\"\n          onClick={ this.requireProducts }\n        >\n          Pesquisarr\n        </button>\n        {\n          productName.length === 0\n          && (\n            <p data-testid=\"home-initial-message\">\n              Digite algum termo de pesquisa ou escolha uma categoria.\n            </p>)\n        }\n        <button\n          data-testid=\"shopping-cart-button\"\n          type=\"button\"\n          onClick={ this.handleClick }\n        >\n          Carrinho de compras\n\n        </button>\n        {\n          messageOn && <Redirect to=\"/Cart\" />\n        }\n        { results !== undefined ? results.map(({ id, title, thumbnail, price }) => (\n          <div key={ id }>\n            <Link data-testid=\"product-detail-link\" key={ id } to={ `/detail/${id}` }>\n              {' '}\n              <div key={ id } data-testid=\"product\">\n                {title}\n                <img src={ thumbnail } alt={ title } />\n                {price}\n              </div>\n            </Link>\n            <button\n              data-testid=\"product-add-to-cart\"\n              type=\"button\"\n              onClick={ () => addFavorites(title, price, id) }\n            >\n              Adicionar ao carrinho\n            </button>\n          </div>\n        )) : <p>Nenhum produto foi encontrado</p>}\n        {lista.map((e) => (\n          <label htmlFor=\"radio\" key={ e.id } data-testid=\"category\">\n            { e.name }\n            <input\n              onClick={ this.requestCategoryID }\n              type=\"radio\"\n              name=\"categories\"\n              id=\"radio\"\n              value={ e.id }\n              key={ e.id }\n            />\n          </label>))}\n      </div>\n\n    );\n  }\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}